@import 'color';

$ca-grid: 1.5rem; // 24px @ default root font-size of 16px

$ca-weight-extra-light: 200;
$ca-weight-light: 300;
$ca-weight-book: 400;
$ca-weight-medium: 500;
$ca-weight-semibold: 500; // Note: in Sketch, semibold is 600. But murmur has an existing value of semibold=500 that is heavily used.

// Combine these into a Sass map ($ca-default-font) once node-sass includes libsass 3.5.0.beta.3 with this bug fix: https://github.com/sass/libsass/issues/2309
$ca-default-font-family: 'Open Sans', Helvetica, Arial, sans-serif;
$ca-default-font-base-size: 0.875rem; /* 14px */
$ca-default-font-descender-height: 0.115;

// Combine these into a Sass map ($ca-default-font) once node-sass includes libsass 3.5.0.beta.3 with this bug fix: https://github.com/sass/libsass/issues/2309
$ca-ideal-sans-font-family: 'Ideal Sans A', 'Ideal Sans B',
  $ca-default-font-family;
$ca-ideal-sans-font-base-size: 1rem; /* 16px */
$ca-ideal-sans-font-descender-height: 0.14;

// Inspired by Basekick from SEEK: https://github.com/michaeltaranto/basekick
@mixin ca-type(
  $family: $ca-default-font-family,
  $base-size: $ca-default-font-base-size,
  $descender-height: $ca-default-font-descender-height,

  $size-ratio: 1,
  $line-height-in-grid-units: 1,
  $weight: $ca-weight-book,
  $letter-spacing: normal
) {
  font-family: $family;
  font-weight: $weight;
  letter-spacing: $letter-spacing;

  $font-size: $base-size * $size-ratio; // in rem
  $absolute-line-height: $ca-grid * $line-height-in-grid-units; // in rem
  $line-height-ratio: $absolute-line-height / $font-size; // unitless number
  $line-spacing: $line-height-ratio - 1;
  font-size: $font-size;
  line-height: $line-height-ratio;

  transform: translateY(#{$descender-height + $line-spacing / 2}em);
}

@mixin ca-title-type($args...) {
  @include ca-type(
    $size-ratio: 12/7,
    $line-height-in-grid-units: 1.5,
    $weight: $ca-weight-medium,
    $args...
  );
}

@mixin ca-ideal-title-type($args...) {
  @include ca-title-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-display-type($args...) {
  @include ca-type(
    $size-ratio: 10/7,
    $weight: $ca-weight-medium,
    $args...
  );
}

@mixin ca-ideal-display-type($args...) {
  @include ca-display-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-heading-type($args...) {
  @include ca-type(
    $size-ratio: 8/7,
    $weight: $ca-weight-medium,
    $args...
  );
}

@mixin ca-ideal-heading-type($args...) {
  @include ca-heading-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-lede-type($args...) {
  @include ca-type(
    $size-ratio: 8/7,
    $args...
  );
}

@mixin ca-ideal-lede-type($args...) {
  @include ca-lede-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-body-type($args...) {
  @include ca-type($args...);
}

@mixin ca-ideal-body-type($args...) {
  @include ca-body-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-control-action-type($args...) {
  @include ca-type(
    $weight: $ca-weight-medium,
    $args...
  );
}

@mixin ca-ideal-control-action-type($args...) {
  @include ca-control-action-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-small-type($args...) {
  @include ca-type(
    $size-ratio: 6/7,
    $args...
  );
}

@mixin ca-ideal-small-type($args...) {
  @include ca-small-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}

@mixin ca-labels-and-legends-type($args...) {
  @include ca-type(
    $size-ratio: 3/4,
    $letter-spacing: 0.04em,
    $args...
  );
}

@mixin ca-ideal-labels-and-legends-type($args...) {
  @include ca-labels-and-legends-type(
    $family: $ca-ideal-sans-font-family,
    $base-size: $ca-ideal-sans-font-base-size,
    $descender-height: $ca-ideal-sans-font-descender-height,
    $args...
  );
}
